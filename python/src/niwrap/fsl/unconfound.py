# This file was auto generated by Styx.
# Do not edit this file directly.

from styxdefs import *
import pathlib
import typing

UNCONFOUND_METADATA = Metadata(
    id="3c5df1bbe5cc2bbb0f42f0f6ab2c98984ef13737",
    name="unconfound",
    container_image_type="docker",
    container_image_index="index.docker.io",
    container_image_tag="mcin/docker-fsl:latest",
)


class UnconfoundOutputs(typing.NamedTuple):
    """
    Output object returned when calling `unconfound(...)`.
    """
    root: OutputPathType
    """Output root folder. This is the root folder for all outputs."""
    output_4d: OutputPathType
    """Output 4D fMRI data after removing confounds"""


def unconfound(
    in4d: InputPathType,
    out4d: str,
    confound_mat: InputPathType,
    runner: Runner | None = None,
) -> UnconfoundOutputs:
    """
    unconfound by Oxford Centre for Functional MRI of the Brain (FMRIB).
    
    Removing confounds from 4D fMRI data.
    
    More information: https://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FSL
    
    Args:
        in4d: Input 4D fMRI data (e.g., in4d.nii.gz).
        out4d: Output 4D fMRI data after removing confounds (e.g.,\
            out4d.nii.gz).
        confound_mat: Confound matrix file (e.g., confound.mat).
        runner: Command runner.
    Returns:
        NamedTuple of outputs (described in `UnconfoundOutputs`).
    """
    runner = runner or get_global_runner()
    execution = runner.start_execution(UNCONFOUND_METADATA)
    cargs = []
    cargs.append("unconfound")
    cargs.append(execution.input_file(in4d))
    cargs.append(out4d)
    cargs.append(execution.input_file(confound_mat))
    ret = UnconfoundOutputs(
        root=execution.output_file("."),
        output_4d=execution.output_file(f"{out4d}.nii.gz", optional=True),
    )
    execution.run(cargs)
    return ret


__all__ = [
    "UNCONFOUND_METADATA",
    "UnconfoundOutputs",
    "unconfound",
]
